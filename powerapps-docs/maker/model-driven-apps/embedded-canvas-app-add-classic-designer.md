---
title: 埋め込み型キャンバス アプリケーションをモデル駆動フォームに追加する | MicrosoftDocs
ms.custom: ''
ms.date: 06/25/2019
ms.reviewer: ''
ms.service: powerapps
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: get-started-article
applies_to:
  - Dynamics 365 (online)
  - Dynamics 365 Version 9.x
  - PowerApps
author: Aneesmsft
ms.author: matp
manager: kvivek
tags:
  - PowerApps maker portal impact
search.audienceType:
  - maker
search.app:
  - PowerApps
  - D365CE
---

# <a name="add-an-embedded-canvas-app-on-a-model-driven-form"></a>埋め込み型キャンバス アプリケーションをモデル駆動フォームに追加する
ことトピックでは、埋め込み型キャンバス アプリケーションをモデル駆動フォームに追加する方法を説明します。

たとえば、新しいキャンバス アプリケーションを作成し、アカウントのエンティティ上のメインフォームに埋め込むとします。 これを行うには、次の手順を実行します。 

1.  [PowerApps](https://web.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc) にサインインします。
2.  この例では、会計エンティティの[メイン フォームの作成または編集](create-and-edit-forms.md) を行います。 
3.  コマンドバーの **クラシックに切り替える** を選択して、クラシック フォームデザイナでフォームを開きます。
4.  クラシックフォームデザイナで、埋め込み型キャンバス アプリケーションを表示させるフォーム上のセクションを選択します。
5.  フィールド ウィンドウを使用して、 **アカウント名称**などの必須フィールドを追加します。
      > [!IMPORTANT]
      > 必ず値を持つ必須フィールドを常に使用します。 フィールドに値がない場合、埋め込みキャンバス アプリはホストのモデル駆動型フォーム上のデータが変更されるときにリフレッシュされません。
6.  選択したフィールドで、**ホーム** タブの **編集**グループで、**プロパティの変更**を選択します。
7.  **フィールド プロパティ** ダイアログ ボックスで、**コントロール** タブを選択します。
8.  **コントロール** タブにて、 **コントロールの追加**を選択します。
9.  **コントロールの追加** ダイアログ ボックスの、使用可能なコントロールの一覧で、**キャンバス アプリ** を選択してから **追加** を選択します。
10. **フィールド プロパティ** ダイアログボックスにて、コントロールの一覧から **キャンバス アプリ**を選択し、 **Web** オプションを選択します。
11. コントロール リストの下部のセクションに、キャンバス アプリ コントロールで使用可能なプロパティのリストが表示されます。
     - **エンティティ名**プロパティは、埋め込みキャンバス アプリにデータを提供するエンティティを指定します。 これは、以前のステップで追加したフィールドを含むエンティティにセットされます。
         - このプロパティが変更可能として表示される場合であっても、それに対する変更が埋め込みキャンバス アプリ上に影響を与えないことに注意してください。 それは参照することのみを目的としています。
     - **アプリ ID** プロパティは埋め込みキャンバス アプリの ID を指定します。 これはキャンバス アプリが作成されるときに自動的に生成および入力されます。
         - **アプリ ID** の値を変更すると、モデル駆動型フォームから埋め込みキャンバス アプリへのリンクが切断されることに注意してください。
12. キャンバス アプリを作成または編集するには**カスタマイズ**を選択します。 これは新規タブの、 PowerApps Studio で開きます。
       > [!NOTE]
       > Webブラウザのポップアップブロックが原因でPowerApps Studio を開くことができない場合は、サイト web.powerapps.com を有効にするか、ポップアップブロックを一時的に無効にしてから、もう一度 **カスタマイズ** を選択する必要があります。
13. PowerApps Studio の通知には、 ウィンドウの左側に特別な **ModelDrivenFormIntegration** コントロールが表示されます。 このコントロールは、ホストのモデル駆動型フォームから埋め込みキャンバス アプリにコンテキスト データを取り込みます。
14. 埋め込み型キャンバス アプリケーションに[キャンバスアプリケーション フォーム コントロール](../canvas-apps/controls/control-form-detail.md) が自動的に追加され、ModelDrivenFormIntegrationコントロールを介してホストのモデル駆動フォームから渡されたデータが表示されていることを確認します。 
15. **ビュー** タブを選択し、 **データ ソース**を選択します。 ご利用のホストモデル駆動型フォーム (この例ではアカウント) の親エンティティであるデータソースが、埋め込み型キャンバス アプリケーションに自動的に追加されていることに留意してください。
16. **フォーム1** コントロールを選択し、 **DataSource** プロパティが **Accounts** と設定されていることを確認してください。
17. **フォーム1** コントロールを選択した状態で、 **Item** プロパティが **ModelDrivenFormIntegration.Item**と設定されていることを確認してください。
    > [!NOTE]
    > 埋め込み型キャンバス アプリケーションは、ModelDrivenFormIntegration.Itemを経由してホストのモデル駆動フォームからのすべてのレコードにアクセスすることができます。 たとえば、**accountnumber** という名称と **アカウント番号** という表示名称を持つフィールドの値を取得するには、 **ModelDrivenFormIntegration.Item.accountnumber** または **ModelDrivenFormIntegration.Item.'Account Number'** を使用することができます。
18. 画面右側のプロパティウィンドウから、 **フィールド**の隣にある **フィールドの編集**を選択します。
19. **+ フィールドの追加** を選択して、キャンバス アプリケーション フォームに別のフィールドを追加することができます。またドラッグ アンド ドロップをすることで既存のフィールドの順序を変更することができます。 フィールドの追加と並べ替えが終了したら、データのウィンドウを閉じます。
20. **ファイル** のタブを選択し、 **保存**を選択します。
21. **クラウド** タブを選択します。アプリに一意の名前をつけてから右下にある**保存**を選択します。 以下に注意します。 
    -  アプリを初めて保存するときは、アプリが自動的に公開されます。
      -  それ以降の保存時には、**公開**を選択してから**このバージョンを公開**を選択し、変更を有効にします。
22. メニューにて **戻る**を選択します。
23. クラシック フォームデザイナーが開いているブラウザのタブを選択します。 キャンバス アプリ コントロールの**アプリ ID** プロパティの値が自動的に入力されたことを確認します。
    > [!NOTE]
    > - フォーム デザイナには、上記の手順で別のブラウザタブで開かれた PowerApps Studio への直接リンクが含まれています。
    > - フォーム デザイナーは、アプリケーションIDの送信を待機します。 
    > - アプリケーションIDは、アプリケーションが保存された際にフォームデザイナーへと送信されます。
24. **フィールド プロパティ** ダイアログ ボックスで、**表示**タブを選択します。
25. フォーム上の**ラベルの表示**をクリアしてから **OK** を選択します。
    -   このフォームに埋め込まれたキャンバス アプリが既にある場合は、「1 つのフォームで 1 つのキャンバス アプリのみを有効にすることができます。」というメッセージが表示されます。 新しいキャンバス アプリを追加するには、まず[現在の埋め込みキャンバス アプリを無効化](embedded-canvas-app-guidelines.md#disable-an-embedded-canvas-app)する必要があります。 次に、[新しい埋め込みキャンバス アプリを有効化](embedded-canvas-app-guidelines.md#enable-an-embedded-canvas-app)します。
26. **ホーム** タブで、**保存**を選択してから、**公開**を選択します。

埋め込みキャンバス アプリを自分のモデル駆動型フォームに追加した後、埋め込みキャンバス アプリを他のユーザーと共有します。 詳細: [埋め込みキャンバス アプリの共有](share-embedded-canvas-app.md)。

修正したフォームを含むモデル駆動型アプリ (統一インターフェイスのみ) を開くと、埋め込みキャンバス アプリがフォーム上に表示されます。 メイン フォームに表示されるレコードを変更すると、フォームに渡されたデータ コンテキストが変更され、関連するデータを表示するように埋め込みアプリがリフレッシュされます。

このトピックは、モデル駆動型フォームで埋め込みキャンバス アプリを使用する方法を説明しました。 さまざまなデータ ソースに接続してデータを取り込むように、埋め込みキャンバス アプリをさらにカスタマイズすることができます。 フィルター、検索、およびルックアップ機能、およびホストのモデル駆動型フォームからフィルターから渡されたコンテキストを使用して、これらのデータ ソース内の特定のレコードをフィルター処理または検索します。 WYSIWYG キャンバス アプリ エディターを使用して、ユーザーの環境に合ったインターフェイスを簡単に設計します。

## <a name="see-also"></a>関連項目
[モデル駆動型フォーム上にキャンバス アプリを埋め込む](embed-canvas-app-in-form.md) <br />
[モデル駆動型フォームの埋め込み型キャンバス アプリケーションを編集する](embedded-canvas-app-edit-classic-designer.md) <br />
[モデル駆動フォームに埋め込まれたキャンバス アプリケーションの画面サイズと表示方向をカスタマイズする](embedded-canvas-app-customize-screen.md) <br />
[組み込みキャンバス アプリ内からホスト フォームで事前定義済みの操作を実行する](embedded-canvas-app-actions.md) <br />
[ModelDrivenFormIntegrationコントロールのプロパティとアクション](embedded-canvas-app-properties-actions.md) <br />
[埋め込みキャンバス アプリの共有](share-embedded-canvas-app.md)。 <br />
[埋め込みキャンバス アプリの作業のガイドライン](embedded-canvas-app-guidelines.md) <br />
[パブリック プレビュー リリースを使用して作成された、モデル駆動型フォームの埋込み型キャンバスアプリケーションを最新版へと移行する](embedded-canvas-app-migrate-from-preview.md) <br />
